{"version":3,"file":"js/app.38635682.js","mappings":"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","sources":["webpack://voice-recorder/./src/App.vue","webpack://voice-recorder/./src/App.vue?7ccd","webpack://voice-recorder/./src/components/MainNav.vue","webpack://voice-recorder/./src/components/MainNav.vue?9154","webpack://voice-recorder/./src/views/HomeView.vue?3ba6","webpack://voice-recorder/./src/views/HomeView.vue","webpack://voice-recorder/./src/views/HomeView.vue?1da1","webpack://voice-recorder/./src/utils.ts","webpack://voice-recorder/./src/views/AudioView.vue?ee96","webpack://voice-recorder/./src/views/AudioView.vue","webpack://voice-recorder/./src/views/AudioView.vue?0cc6","webpack://voice-recorder/./src/components/MyMessage.vue?1064","webpack://voice-recorder/./src/components/MyMessage.vue","webpack://voice-recorder/./src/components/AssistantMessage.vue?5825","webpack://voice-recorder/./src/components/AssistantMessage.vue","webpack://voice-recorder/./src/components/AssistantMessage.vue?b551","webpack://voice-recorder/./src/components/MessageInput.vue?0004","webpack://voice-recorder/./src/components/MessageInput.vue","webpack://voice-recorder/./src/components/MessageInput.vue?be4a","webpack://voice-recorder/./src/config.ts","webpack://voice-recorder/./src/components/MessageContainer.vue?cab2","webpack://voice-recorder/./src/components/MessageContainer.vue","webpack://voice-recorder/./src/components/MessageContainer.vue?6d9c","webpack://voice-recorder/./src/views/MessagesView.vue?d145","webpack://voice-recorder/./src/views/MessagesView.vue","webpack://voice-recorder/./src/views/MessagesView.vue?0e2c","webpack://voice-recorder/./src/router/index.ts","webpack://voice-recorder/./src/store/index.ts","webpack://voice-recorder/./src/main.ts","webpack://voice-recorder/webpack/bootstrap","webpack://voice-recorder/webpack/runtime/chunk loaded","webpack://voice-recorder/webpack/runtime/compat get default export","webpack://voice-recorder/webpack/runtime/define property getters","webpack://voice-recorder/webpack/runtime/global","webpack://voice-recorder/webpack/runtime/hasOwnProperty shorthand","webpack://voice-recorder/webpack/runtime/make namespace object","webpack://voice-recorder/webpack/runtime/jsonp chunk loading","webpack://voice-recorder/webpack/startup"],"sourcesContent":["<template>\n    <router-view/>\n</template>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nnav {\n  padding: 30px;\n\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=4d4cc501\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=4d4cc501&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup lang=\"ts\">\n\n</script>\n\n<template>\n    <div class=\"main-nav\">\n        <router-link class=\"main-nav\" :to=\"{name:'audio'}\">Audio Mode</router-link>\n        <router-link class=\"main-nav\" :to=\"{name:'messages'}\">Message Mode</router-link>\n    </div>\n\n</template>\n\n<style scoped lang=\"scss\">\n.main-nav {\n  width: 100%;\n  min-width: 800px;\n  margin: 15px;\n  display: flex;\n  justify-content: space-between;\n\n  a {\n\n  }\n\n}\n</style>\n","import { render } from \"./MainNav.vue?vue&type=template&id=2179baea&scoped=true\"\nconst script = {}\n\nimport \"./MainNav.vue?vue&type=style&index=0&id=2179baea&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2179baea\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2f3e5de7\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"main-container\" }, [\n  /*#__PURE__*/_createElementVNode(\"h1\", null, \"Personal Agent\")\n], -1))\n\nimport {ref} from \"vue\";\nimport MainNav from \"@/components/MainNav.vue\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HomeView',\n  setup(__props) {\n\nconst messages = ref([\n    {\n        type: \"user\",\n        message: {\n            id: 1,\n            content: \"my content\"\n        }\n    },\n    {\n        type: \"assistant\",\n        message: {\n            id: 1,\n            content: \"assistant content\"\n        }\n    }\n])\n\nconst messageSubmit = (payload: string) => {\n    console.log(payload)\n    messages.value.push({\n        type: \"user\",\n        message: {\n            id: 10,\n            content: payload\n        }\n    })\n\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(MainNav),\n    _hoisted_2\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"home\">\n        <MainNav/>\n        <div class=\"main-container\">\n            <h1>Personal Agent</h1>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {ref} from \"vue\";\nimport MainNav from \"@/components/MainNav.vue\";\n\n\nconst messages = ref([\n    {\n        type: \"user\",\n        message: {\n            id: 1,\n            content: \"my content\"\n        }\n    },\n    {\n        type: \"assistant\",\n        message: {\n            id: 1,\n            content: \"assistant content\"\n        }\n    }\n])\n\nconst messageSubmit = (payload: string) => {\n    console.log(payload)\n    messages.value.push({\n        type: \"user\",\n        message: {\n            id: 10,\n            content: payload\n        }\n    })\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n.home {\n  width: 100%;\n  min-height: 80vh;\n  max-width: 900px;\n  margin: 0 auto;\n  position: relative;\n\n  .main-container {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .messages-container {\n      padding: 100px;\n    }\n  }\n\n  .message-input {\n    max-width: 100%;\n    position: sticky;\n    bottom: 0;\n    margin-top: -80px;\n  }\n}\n\n</style>\n\n\n\n","import script from \"./HomeView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=2f3e5de7&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2f3e5de7\"]])\n\nexport default __exports__","export function sleep(ms: number) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function generateUUID() { // Public Domain/MIT\n    let d = new Date().getTime();//Timestamp\n    let d2 = ((typeof performance !== 'undefined') && performance.now && (performance.now() * 1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        let r = Math.random() * 16;//random number between 0 and 16\n        if (d > 0) {//Use timestamp until depleted\n            r = (d + r) % 16 | 0;\n            d = Math.floor(d / 16);\n        } else {//Use microseconds since page-load if supported\n            r = (d2 + r) % 16 | 0;\n            d2 = Math.floor(d2 / 16);\n        }\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\n\nexport function scrollToBottom(element?: HTMLElement | null) {\n    console.log('scrollToBottom');\n    console.log(element);\n    console.log(element?.scrollTop, element?.scrollHeight);\n    if (element)\n        element.scrollTop = element.scrollHeight;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"audio\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"audio-recording-container\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"title\" }, \"Audio Recording\", -1)\nconst _hoisted_4 = {\n  key: 0,\n  ref: \"recordingControlButtonsContainer\",\n  class: \"recording-control-buttons-container\"\n}\nconst _hoisted_5 = {\n  ref: \"elapsedTimeTag\",\n  class: \"recording-elapsed-time\"\n}\nconst _hoisted_6 = {\n  key: 0,\n  class: \"red-recording-dot fa fa-circle\"\n}\nconst _hoisted_7 = { class: \"elapsed-time\" }\nconst _hoisted_8 = { key: 1 }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"fa fa-spinner fa-pulse fa-3x fa-fw\" }, null, -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"sr-only\" }, \"Loading...\", -1)\nconst _hoisted_11 = [\n  _hoisted_9,\n  _hoisted_10\n]\nconst _hoisted_12 = {\n  ref: \"textIndicatorOfAudiPlaying\",\n  class: \"text-indication-of-audio-playing-container\"\n}\nconst _hoisted_13 = {\n  key: 0,\n  class: \"text-indication-of-audio-playing\"\n}\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", null, \".\", -1)\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"span\", null, \".\", -1)\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", null, \".\", -1)\nconst _hoisted_17 = {\n  key: 1,\n  ref: \"overlay\",\n  class: \"overlay\"\n}\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"browser-not-supporting-audio-recording-box\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"To record audio, use browsers like Chrome and Firefox that support audio recording.\"),\n  /*#__PURE__*/_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"close-browser-not-supported-box\"\n  }, \" Ok. \")\n], -1)\nconst _hoisted_19 = [\n  _hoisted_18\n]\n\nimport {RecordRTCPromisesHandler} from \"recordrtc\"\nimport {computed, nextTick, onMounted, ref} from \"vue\";\nimport axios from \"axios\";\nimport {sleep} from \"@/utils\";\n\nconst host = \"https://agent.anacreation.com/\"\n// const host = \"http://127.0.0.1:8001/\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AudioView',\n  setup(__props) {\n\nconst is_loading = ref<boolean>(false)\nconst is_playing = ref<boolean>(false)\nconst is_recording = ref<boolean>(false)\nconst is_stopped = ref<boolean>(false)\nconst show_play_button = ref<boolean>(false)\nconst not_support = ref<boolean>(false)\nconst elapsed_time = ref(0.0)\nconst load_audio = ref(false)\nconst computed_elapsed_time = computed(() => {\n\n    let minutes: number | string = Math.floor(elapsed_time.value / 60);\n    let remainingSeconds: number | string = elapsed_time.value % 60;\n\n    // Padding the minutes and seconds with a zero if they are less than 10\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    remainingSeconds = remainingSeconds < 10 ? '0' + remainingSeconds : remainingSeconds;\n\n    return minutes + ':' + remainingSeconds;\n})\nconst audioId = ref<string | null>(null)\nconst audio_src = computed(() => {\n    if (audioId.value) {\n        return host + `audio/${audioId.value}`\n    }\n    return null\n})\n\nconst audioPlayer = ref<HTMLAudioElement | null>(null)\n\nconst fetchAudioCounter = ref(0)\n\nlet stream\nlet recorder: RecordRTCPromisesHandler | null = null\nlet timeinterval: number\nlet blob: Blob | null\n\nconst reset = () => {\n    is_stopped.value = false\n    is_loading.value = false\n}\n\nconst deleteAudio = () => {\n    blob = null\n    reset()\n}\nconst init_recorder = (async () => {\n\n    if (recorder) {\n        await recorder.reset()\n    }\n\n    try {\n        stream = await navigator.mediaDevices.getUserMedia({video: false, audio: true})\n        recorder = new RecordRTCPromisesHandler(stream, {\n            type: 'audio'\n        });\n        elapsed_time.value = 0.0\n        is_stopped.value = false\n    } catch (e) {\n        console.log(\"err\", e)\n        not_support.value = true\n\n    }\n})\n\nonMounted(() => {\n    try {\n        const audio = new Audio()\n        audio.muted = true\n        audio.autoplay = true\n\n        audio.addEventListener('canplaythrough', () => {\n            console.log('loaded audio');\n            console.log(audio.currentSrc);\n            show_play_button.value = true\n\n            nextTick(() => {\n                audio.play()\n                    .then(() => {\n                        audio.muted = false\n                        audio.volume = 1\n                        is_playing.value = true\n                        load_audio.value = true\n                        is_loading.value = false\n                    })\n                    .catch(err => {\n                        console.log(\"play audio err\", err)\n                    })\n            })\n\n        });\n        audio.addEventListener('ended', () => {\n            is_playing.value = false\n            audio.muted = true\n        });\n\n        audioPlayer.value = audio\n    } catch (e) {\n        not_support.value = true\n    }\n})\n\n\nconst recordAudio = async () => {\n    await init_recorder()\n    recorder?.startRecording();\n    is_recording.value = true\n    timeinterval = setInterval(() => {\n        elapsed_time.value = elapsed_time.value + 1\n    }, 1000)\n}\n\nconst fetch_audio_file = async (id: string) => {\n    await sleep(500)\n    if (load_audio.value || fetchAudioCounter.value > 10)\n        return\n\n    try {\n        const url = `${host}has_audio/${id}`\n        const res = await axios.get(url)\n        audioId.value = id\n\n        nextTick(() => {\n            if (audio_src.value && audioPlayer.value) {\n\n                audioPlayer.value.src = audio_src.value\n\n                audioPlayer.value.load()\n\n            }\n        })\n\n    } catch (err) {\n        fetchAudioCounter.value = fetchAudioCounter.value + 1\n        await fetch_audio_file(id)\n        console.log(\"err\", err)\n    }\n\n}\n\nconst recordingStop = async () => {\n    await recorder?.stopRecording();\n\n    is_recording.value = false\n    is_stopped.value = true\n    is_loading.value = true\n    clearInterval(timeinterval)\n    console.log(\"recorder\", recorder)\n    const blob = await recorder?.getBlob()\n    if (blob) {\n        load_audio.value = false\n        const formData = new FormData();\n        formData.append(\"audio\", blob, \"testing.mp4\")\n        formData.append(\"type\", blob.type)\n        formData.append(\"require_audio\", true)\n        axios.post(`${host}call_with_audio`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }).then(res => {\n            fetch_audio_file(res.data.id)\n        }).catch(err => {\n            console.log(\"err\", err)\n        })\n\n    }\n}\n\nconst playDownloadedAudio = async () => {\n    if (audioPlayer.value) {\n        audioPlayer.value.play()\n    }\n}\nconst playAudio = async () => {\n    blob = (await recorder?.getBlob()) ?? null;\n    if (blob && blob.size > 0) {\n        const data_url = URL.createObjectURL(blob)\n        console.log(\"data_url\", data_url)\n        const audio = new Audio(data_url)\n        audio.onended = () => is_playing.value = false\n        await audio.play();\n        is_playing.value = true\n    }\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!not_support.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"i\", {\n            class: \"start-recording-button fa fa-microphone\",\n            \"aria-hidden\": \"true\",\n            ref: \"microphoneButton\",\n            onClick: recordAudio\n          }, null, 512),\n          (is_recording.value || is_stopped.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                _createElementVNode(\"i\", {\n                  onClick: deleteAudio,\n                  class: \"stop-recording-button fa fa-times-circle-o\",\n                  style: {\"color\":\"red\"}\n                }),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  (is_recording.value)\n                    ? (_openBlock(), _createElementBlock(\"i\", _hoisted_6))\n                    : _createCommentVNode(\"\", true),\n                  _createElementVNode(\"p\", _hoisted_7, _toDisplayString(computed_elapsed_time.value), 1)\n                ], 512),\n                (!is_stopped.value)\n                  ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 0,\n                      onClick: recordingStop,\n                      class: \"stop-recording-button fa fa-stop-circle-o\",\n                      \"aria-hidden\": \"true\"\n                    }))\n                  : _createCommentVNode(\"\", true),\n                (show_play_button.value)\n                  ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 1,\n                      onClick: playDownloadedAudio,\n                      class: \"stop-recording-button fa fa-play-circle-o\",\n                      \"aria-hidden\": \"true\"\n                    }))\n                  : _createCommentVNode(\"\", true)\n              ], 512))\n            : _createCommentVNode(\"\", true),\n          (is_loading.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _hoisted_11))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_12, [\n            (is_playing.value)\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, [\n                  _createTextVNode(\"Audio is playing\"),\n                  _hoisted_14,\n                  _hoisted_15,\n                  _hoisted_16\n                ]))\n              : _createCommentVNode(\"\", true)\n          ], 512)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (not_support.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _hoisted_19, 512))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"audio\">\n\n        <div class=\"audio-recording-container\" v-if=\"!not_support\">\n            <h1 class=\"title\">Audio Recording</h1>\n            <i class=\"start-recording-button fa fa-microphone\"\n               aria-hidden=\"true\"\n               ref=\"microphoneButton\"\n               @click=\"recordAudio\"/>\n            <div ref=\"recordingControlButtonsContainer\"\n                 class=\"recording-control-buttons-container\"\n                 v-if=\"is_recording || is_stopped\">\n                <i @click=\"deleteAudio\"\n                   class=\"stop-recording-button fa fa-times-circle-o\" style=\"color:red\"></i>\n                <div ref=\"elapsedTimeTag\" class=\"recording-elapsed-time\">\n                    <i v-if=\"is_recording\" class=\"red-recording-dot fa fa-circle\"></i>\n                    <p class=\"elapsed-time\">{{ computed_elapsed_time }}</p>\n                </div>\n                <i @click=\"recordingStop\"\n                   v-if=\"!is_stopped\"\n                   class=\"stop-recording-button fa fa-stop-circle-o\" aria-hidden=\"true\"></i>\n                <i v-if=\"show_play_button\"\n                   @click=\"playDownloadedAudio\"\n                   class=\"stop-recording-button fa fa-play-circle-o\" aria-hidden=\"true\"></i>\n            </div>\n            <div v-if=\"is_loading\">\n                <i class=\"fa fa-spinner fa-pulse fa-3x fa-fw\"></i>\n                <span class=\"sr-only\">Loading...</span>\n            </div>\n\n            <div ref=\"textIndicatorOfAudiPlaying\" class=\"text-indication-of-audio-playing-container\">\n                <p class=\"text-indication-of-audio-playing\" v-if=\"is_playing\">Audio is\n                    playing<span>.</span><span>.</span><span>.</span></p>\n            </div>\n        </div>\n\n        <div ref=\"overlay\" class=\"overlay\" v-if=\"not_support\">\n            <div class=\"browser-not-supporting-audio-recording-box\">\n                <p>To record audio, use browsers like Chrome and Firefox that support audio recording.</p>\n                <button type=\"button\"\n                        class=\"close-browser-not-supported-box\">\n                    Ok.\n                </button>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {RecordRTCPromisesHandler} from \"recordrtc\"\nimport {computed, nextTick, onMounted, ref} from \"vue\";\nimport axios from \"axios\";\nimport {sleep} from \"@/utils\";\n\nconst host = \"https://agent.anacreation.com/\"\n// const host = \"http://127.0.0.1:8001/\"\n\nconst is_loading = ref<boolean>(false)\nconst is_playing = ref<boolean>(false)\nconst is_recording = ref<boolean>(false)\nconst is_stopped = ref<boolean>(false)\nconst show_play_button = ref<boolean>(false)\nconst not_support = ref<boolean>(false)\nconst elapsed_time = ref(0.0)\nconst load_audio = ref(false)\nconst computed_elapsed_time = computed(() => {\n\n    let minutes: number | string = Math.floor(elapsed_time.value / 60);\n    let remainingSeconds: number | string = elapsed_time.value % 60;\n\n    // Padding the minutes and seconds with a zero if they are less than 10\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    remainingSeconds = remainingSeconds < 10 ? '0' + remainingSeconds : remainingSeconds;\n\n    return minutes + ':' + remainingSeconds;\n})\nconst audioId = ref<string | null>(null)\nconst audio_src = computed(() => {\n    if (audioId.value) {\n        return host + `audio/${audioId.value}`\n    }\n    return null\n})\n\nconst audioPlayer = ref<HTMLAudioElement | null>(null)\n\nconst fetchAudioCounter = ref(0)\n\nlet stream\nlet recorder: RecordRTCPromisesHandler | null = null\nlet timeinterval: number\nlet blob: Blob | null\n\nconst reset = () => {\n    is_stopped.value = false\n    is_loading.value = false\n}\n\nconst deleteAudio = () => {\n    blob = null\n    reset()\n}\nconst init_recorder = (async () => {\n\n    if (recorder) {\n        await recorder.reset()\n    }\n\n    try {\n        stream = await navigator.mediaDevices.getUserMedia({video: false, audio: true})\n        recorder = new RecordRTCPromisesHandler(stream, {\n            type: 'audio'\n        });\n        elapsed_time.value = 0.0\n        is_stopped.value = false\n    } catch (e) {\n        console.log(\"err\", e)\n        not_support.value = true\n\n    }\n})\n\nonMounted(() => {\n    try {\n        const audio = new Audio()\n        audio.muted = true\n        audio.autoplay = true\n\n        audio.addEventListener('canplaythrough', () => {\n            console.log('loaded audio');\n            console.log(audio.currentSrc);\n            show_play_button.value = true\n\n            nextTick(() => {\n                audio.play()\n                    .then(() => {\n                        audio.muted = false\n                        audio.volume = 1\n                        is_playing.value = true\n                        load_audio.value = true\n                        is_loading.value = false\n                    })\n                    .catch(err => {\n                        console.log(\"play audio err\", err)\n                    })\n            })\n\n        });\n        audio.addEventListener('ended', () => {\n            is_playing.value = false\n            audio.muted = true\n        });\n\n        audioPlayer.value = audio\n    } catch (e) {\n        not_support.value = true\n    }\n})\n\n\nconst recordAudio = async () => {\n    await init_recorder()\n    recorder?.startRecording();\n    is_recording.value = true\n    timeinterval = setInterval(() => {\n        elapsed_time.value = elapsed_time.value + 1\n    }, 1000)\n}\n\nconst fetch_audio_file = async (id: string) => {\n    await sleep(500)\n    if (load_audio.value || fetchAudioCounter.value > 10)\n        return\n\n    try {\n        const url = `${host}has_audio/${id}`\n        const res = await axios.get(url)\n        audioId.value = id\n\n        nextTick(() => {\n            if (audio_src.value && audioPlayer.value) {\n\n                audioPlayer.value.src = audio_src.value\n\n                audioPlayer.value.load()\n\n            }\n        })\n\n    } catch (err) {\n        fetchAudioCounter.value = fetchAudioCounter.value + 1\n        await fetch_audio_file(id)\n        console.log(\"err\", err)\n    }\n\n}\n\nconst recordingStop = async () => {\n    await recorder?.stopRecording();\n\n    is_recording.value = false\n    is_stopped.value = true\n    is_loading.value = true\n    clearInterval(timeinterval)\n    console.log(\"recorder\", recorder)\n    const blob = await recorder?.getBlob()\n    if (blob) {\n        load_audio.value = false\n        const formData = new FormData();\n        formData.append(\"audio\", blob, \"testing.mp4\")\n        formData.append(\"type\", blob.type)\n        formData.append(\"require_audio\", true)\n        axios.post(`${host}call_with_audio`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }).then(res => {\n            fetch_audio_file(res.data.id)\n        }).catch(err => {\n            console.log(\"err\", err)\n        })\n\n    }\n}\n\nconst playDownloadedAudio = async () => {\n    if (audioPlayer.value) {\n        audioPlayer.value.play()\n    }\n}\nconst playAudio = async () => {\n    blob = (await recorder?.getBlob()) ?? null;\n    if (blob && blob.size > 0) {\n        const data_url = URL.createObjectURL(blob)\n        console.log(\"data_url\", data_url)\n        const audio = new Audio(data_url)\n        audio.onended = () => is_playing.value = false\n        await audio.play();\n        is_playing.value = true\n    }\n}\n\n\n</script>\n","import script from \"./AudioView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AudioView.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3ace2180\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"my-message message\" }\nconst _hoisted_2 = [\"innerHTML\"]\n\nimport {Message} from \"@/types/message\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MyMessage',\n  props: {\n    message: {}\n  },\n  setup(__props: any) {\n\n\nconst props = __props\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"message-container\",\n      innerHTML: _ctx.message.content\n    }, null, 8, _hoisted_2)\n  ]))\n}\n}\n\n})","import script from \"./MyMessage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MyMessage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MyMessage.vue?vue&type=style&index=0&id=3ace2180&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ace2180\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0d48a9c2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"assistant-message message\" }\nconst _hoisted_2 = [\"innerHTML\"]\n\nimport {computed} from \"vue\";\nimport {Message} from \"@/types/message\";\nimport showdown from \"showdown\";\n\ninterface Props {\n    message: Message\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AssistantMessage',\n  props: {\n    message: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\nconst converter = new showdown.Converter();\nconverter.setOption('tables', true);\nconverter.setOption('ghCodeBlocks', true);\n\n\nconst getProgrammingLanguage = (context: string) => {\n\n// Regular expression to match code blocks with language specifier\n    const regex = /```(\\w+)\\n([\\s\\S]*?)```/g;\n\n// Extract matches\n    let match;\n    while ((match = regex.exec(context)) !== null) {\n        return {\n            language: match[1].toLowerCase(),\n            code: match[0]\n        };\n    }\n    return null;\n\n}\n\nconst convertContent = computed(() => converter.makeHtml(props.message.content))\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"message-container\",\n      innerHTML: convertContent.value\n    }, null, 8, _hoisted_2)\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport {computed, defineProps} from \"vue\";\nimport {Message} from \"@/types/message\";\nimport showdown from \"showdown\";\n\ninterface Props {\n    message: Message\n}\n\nconst props = defineProps<Props>()\nconst converter = new showdown.Converter();\nconverter.setOption('tables', true);\nconverter.setOption('ghCodeBlocks', true);\n\n\nconst getProgrammingLanguage = (context: string) => {\n\n// Regular expression to match code blocks with language specifier\n    const regex = /```(\\w+)\\n([\\s\\S]*?)```/g;\n\n// Extract matches\n    let match;\n    while ((match = regex.exec(context)) !== null) {\n        return {\n            language: match[1].toLowerCase(),\n            code: match[0]\n        };\n    }\n    return null;\n\n}\n\nconst convertContent = computed(() => converter.makeHtml(props.message.content))\n\n</script>\n\n<template>\n    <div class=\"assistant-message message\">\n        <div class=\"message-container\" v-html=\"convertContent\"></div>\n    </div>\n\n</template>\n\n<style scoped lang=\"scss\">\n.assistant-message {\n  max-width: 80%;\n  min-height: 10px;\n\n  .message-container {\n    display: inline-block;\n    padding: 5px;\n    border-radius: 10px;\n    background-color: lightgrey;\n\n  }\n}\n\nh1 {\n  font-size: 1.2em;\n}\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: 1px solid #ddd;\n}\n</style>\n","import script from \"./AssistantMessage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AssistantMessage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AssistantMessage.vue?vue&type=style&index=0&id=0d48a9c2&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0d48a9c2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5ba5a955\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"message-input\" }\nconst _hoisted_2 = { class: \"input-container\" }\nconst _hoisted_3 = [\"onClick\", \"disabled\"]\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"fas fa-paper-plane\" }, null, -1))\n\nimport {ref} from \"vue\";\n\ninterface Props {\n    message: {\n        type: string,\n        message: {\n            id: number,\n            content: string\n        }\n    }\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MessageInput',\n  emits: [\"submit\"],\n  setup(__props, { emit: __emit }) {\n\n\nconst message = ref(\"\")\nconst emit = __emit\nconst submitMessage = () => {\n    if (message.value) {\n        emit('submit', message.value)\n        message.value = \"\"\n    }\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createElementVNode(\"textarea\", {\n        rows: \"4\",\n        placeholder: \"Type your message here...\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((message).value = $event))\n      }, null, 512), [\n        [_vModelText, message.value]\n      ]),\n      _createElementVNode(\"button\", {\n        onClick: _withModifiers(submitMessage, [\"prevent\"]),\n        disabled: !message.value\n      }, [\n        _hoisted_4,\n        _createTextVNode(\"send \")\n      ], 8, _hoisted_3)\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\n\nimport {defineEmits, ref} from \"vue\";\n\ninterface Props {\n    message: {\n        type: string,\n        message: {\n            id: number,\n            content: string\n        }\n    }\n}\n\nconst message = ref(\"\")\nconst emit = defineEmits<{\n    (e: 'submit', payload: string): void\n}>()\nconst submitMessage = () => {\n    if (message.value) {\n        emit('submit', message.value)\n        message.value = \"\"\n    }\n}\n\n</script>\n\n<template>\n    <div class=\"message-input\">\n        <div class=\"input-container\">\n            <textarea rows=\"4\" placeholder=\"Type your message here...\" v-model=\"message\"></textarea>\n            <button @click.prevent=\"submitMessage\" :disabled=\"!message\">\n                <i class=\"fas fa-paper-plane\"></i>send\n            </button>\n        </div>\n    </div>\n\n</template>\n\n<style scoped lang=\"scss\">\n\n.message-input {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .input-container {\n    width: 80%;\n    display: flex;\n    justify-content: center;\n\n    textarea {\n      padding: 5px;\n      width: 80%;\n      border-bottom-left-radius: 10px;\n      border-top-left-radius: 10px;\n    }\n\n    button {\n      border: 1px solid gray;\n      border-bottom-right-radius: 10px;\n      border-top-right-radius: 10px;\n    }\n  }\n}\n</style>\n","import script from \"./MessageInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MessageInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MessageInput.vue?vue&type=style&index=0&id=5ba5a955&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5ba5a955\"]])\n\nexport default __exports__","export const host = process.env.VUE_APP_HOST\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-454f0e44\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"messages\" }\n\nimport {Component, nextTick, ref} from \"vue\";\nimport MyMessage from \"@/components/MyMessage.vue\";\nimport AssistantMessage from \"@/components/AssistantMessage.vue\";\nimport {DBMessage, Message} from \"@/types/message\";\nimport MessageInput from \"@/components/MessageInput.vue\";\nimport {generateUUID, scrollToBottom} from \"@/utils\";\nimport axios from \"axios\";\nimport * as config from \"@/config\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MessageContainer',\n  setup(__props) {\n\n\nconst messages = ref<Array<Message>>([])\nconst messagesContainer = ref<HTMLElement | null>(null)\n\nconst components = {\n    MyMessage,\n    AssistantMessage\n}\n\naxios.get(config.host + '/messages?page=1&limit=25&session_id:1212a')\n    .then(({data}) => {\n        messages.value = data.map((m: DBMessage): Message => {\n            return {\n                id: m.message.id,\n                role: m.role,\n                content: Array.isArray(m.message.content) ? m.message.content[0].text : m.message.content,\n            }\n        }).reverse()\n\n        nextTick(() => scrollToBottom(messagesContainer.value))\n    })\n\nconst messageSubmit = (payload: string) => {\n\n    const data = {\n        content: payload\n    }\n    const user_message: Message = {\n        id: generateUUID(),\n        role: \"user\",\n        content: payload\n    }\n\n    const temp_message: Message = {\n        id: generateUUID(),\n        role: \"assistant\",\n        content: \"<i class=\\\"fa fa-spinner fa-spin fa-3x fa-fw\\\"></i>Loading..\"\n    }\n\n    messages.value.push(user_message)\n    messages.value.push(temp_message)\n    nextTick(() => scrollToBottom(messagesContainer.value))\n\n\n    axios.post(config.host + '/call', data)\n        .then(({data}) => {\n            messages.value.pop()\n            messages.value.push({\n                id: data.id,\n                role: \"assistant\",\n                content: data.message\n            } as Message)\n\n            nextTick(() => scrollToBottom(messagesContainer.value))\n        })\n}\nconst getComponent = (role: string): Component => {\n    return role === \"user\" ?\n        components['MyMessage'] :\n        components['AssistantMessage']\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"messages-container\",\n    ref_key: \"messagesContainer\",\n    ref: messagesContainer\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(messages.value, (msg) => {\n        return (_openBlock(), _createBlock(_resolveDynamicComponent(getComponent(msg.role)), {\n          key: msg.id,\n          message: msg\n        }, null, 8, [\"message\"]))\n      }), 128))\n    ]),\n    _createVNode(MessageInput, { onSubmit: messageSubmit })\n  ], 512))\n}\n}\n\n})","<script setup lang=\"ts\">\n\nimport {Component, nextTick, ref} from \"vue\";\nimport MyMessage from \"@/components/MyMessage.vue\";\nimport AssistantMessage from \"@/components/AssistantMessage.vue\";\nimport {DBMessage, Message} from \"@/types/message\";\nimport MessageInput from \"@/components/MessageInput.vue\";\nimport {generateUUID, scrollToBottom} from \"@/utils\";\nimport axios from \"axios\";\nimport * as config from \"@/config\";\n\n\nconst messages = ref<Array<Message>>([])\nconst messagesContainer = ref<HTMLElement | null>(null)\n\nconst components = {\n    MyMessage,\n    AssistantMessage\n}\n\naxios.get(config.host + '/messages?page=1&limit=25&session_id:1212a')\n    .then(({data}) => {\n        messages.value = data.map((m: DBMessage): Message => {\n            return {\n                id: m.message.id,\n                role: m.role,\n                content: Array.isArray(m.message.content) ? m.message.content[0].text : m.message.content,\n            }\n        }).reverse()\n\n        nextTick(() => scrollToBottom(messagesContainer.value))\n    })\n\nconst messageSubmit = (payload: string) => {\n\n    const data = {\n        content: payload\n    }\n    const user_message: Message = {\n        id: generateUUID(),\n        role: \"user\",\n        content: payload\n    }\n\n    const temp_message: Message = {\n        id: generateUUID(),\n        role: \"assistant\",\n        content: \"<i class=\\\"fa fa-spinner fa-spin fa-3x fa-fw\\\"></i>Loading..\"\n    }\n\n    messages.value.push(user_message)\n    messages.value.push(temp_message)\n    nextTick(() => scrollToBottom(messagesContainer.value))\n\n\n    axios.post(config.host + '/call', data)\n        .then(({data}) => {\n            messages.value.pop()\n            messages.value.push({\n                id: data.id,\n                role: \"assistant\",\n                content: data.message\n            } as Message)\n\n            nextTick(() => scrollToBottom(messagesContainer.value))\n        })\n}\nconst getComponent = (role: string): Component => {\n    return role === \"user\" ?\n        components['MyMessage'] :\n        components['AssistantMessage']\n}\n</script>\n\n<template>\n    <div class=\"messages-container\" ref=\"messagesContainer\">\n        <div class=\"messages\">\n            <component v-for=\"msg in messages\"\n                       :key=\"msg.id\"\n                       :is=\"getComponent(msg.role)\"\n                       :message=\"msg\"></component>\n        </div>\n\n        <MessageInput @submit=\"messageSubmit\"></MessageInput>\n    </div>\n\n</template>\n\n<style scoped lang=\"scss\">\n.messages-container {\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  width: 100%;\n  max-width: 900px;\n  height: 90vh;\n  overflow-y: scroll;\n  transition: all 0.5s ease-in-out;\n  padding-bottom: 100px;\n\n  code {\n    background-color: #1e1e1e;\n    color: #fff;\n    padding: 10px;\n    border-radius: 5px;\n    margin: 10px;\n  }\n\n  & .my-message, & .assistant-message {\n    display: block;\n    margin: 10px;\n    text-align: left;\n  }\n\n  & .my-message {\n    margin-left: auto;\n    margin-right: 0;\n    text-align: right;\n  }\n\n\n  .message-input {\n    max-width: 100%;\n    position: sticky;\n    bottom: 0;\n    margin-top: -80px;\n  }\n\n  .messages {\n    padding-bottom: 100px;\n  }\n\n}\n\n\n</style>\n","import script from \"./MessageContainer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MessageContainer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MessageContainer.vue?vue&type=style&index=0&id=454f0e44&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-454f0e44\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-02d7fbec\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home\" }\nconst _hoisted_2 = { class: \"main-container\" }\n\nimport MessageContainer from \"@/components/MessageContainer.vue\";\nimport {ref} from \"vue\";\nimport {Message} from \"@/types/message\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MessagesView',\n  setup(__props) {\n\nconst messages = ref<Array<Message>>([])\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_router_link, { to: {name:'audio'} }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Audio Mode\")\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(MessageContainer)\n    ])\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"home\">\n        <router-link :to=\"{name:'audio'}\">Audio Mode</router-link>\n        <div class=\"main-container\">\n            <MessageContainer></MessageContainer>\n        </div>\n\n\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport MessageContainer from \"@/components/MessageContainer.vue\";\nimport {ref} from \"vue\";\nimport {Message} from \"@/types/message\";\n\n\nconst messages = ref<Array<Message>>([])\n\n\n</script>\n\n<style scoped lang=\"scss\">\n.home {\n  width: 100%;\n  min-height: 80vh;\n  max-width: 900px;\n  margin: 0 auto;\n  position: relative;\n\n  .main-container {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .messages-container {\n      padding: 20px;\n\n    }\n  }\n}\n\n</style>\n\n\n\n","import script from \"./MessagesView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MessagesView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MessagesView.vue?vue&type=style&index=0&id=02d7fbec&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-02d7fbec\"]])\n\nexport default __exports__","import {createRouter, createWebHistory, RouteRecordRaw} from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport AudioView from '../views/AudioView.vue'\nimport MessagesView from \"@/views/MessagesView.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: '/',\n        name: 'home',\n        component: HomeView\n    },\n    {\n        path: '/audio',\n        name: 'audio',\n        component: AudioView\n    },\n    {\n        path: '/messages',\n        name: 'messages',\n        component: MessagesView\n    },\n]\n\nconst router = createRouter({\n    history: createWebHistory(process.env.BASE_URL),\n    routes\n})\n\nexport default router\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  getters: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import {createApp} from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport router from './router'\nimport store from './store'\n\nimport \"@/assets/scss/app.scss\"\n\ncreateApp(App).use(store).use(router).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvoice_recorder\"] = self[\"webpackChunkvoice_recorder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2080); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","class","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","name","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_2","_createElementVNode","_defineComponent","__name","setup","__props","ref","type","message","id","content","_ctx","_cache","_openBlock","MainNav","sleep","ms","Promise","resolve","setTimeout","generateUUID","d","Date","getTime","d2","performance","now","replace","c","r","Math","random","floor","toString","scrollToBottom","element","console","log","scrollTop","scrollHeight","key","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","host","is_loading","is_playing","is_recording","is_stopped","show_play_button","not_support","elapsed_time","load_audio","computed_elapsed_time","computed","minutes","value","remainingSeconds","audioId","audio_src","audioPlayer","fetchAudioCounter","stream","timeinterval","blob","recorder","reset","deleteAudio","init_recorder","async","navigator","mediaDevices","getUserMedia","video","audio","RecordRTCPromisesHandler","e","onMounted","Audio","muted","autoplay","addEventListener","currentSrc","nextTick","play","then","volume","catch","err","recordAudio","startRecording","setInterval","fetch_audio_file","url","axios","get","src","load","recordingStop","stopRecording","clearInterval","getBlob","formData","FormData","append","post","headers","res","data","playDownloadedAudio","_createCommentVNode","onClick","style","_toDisplayString","_createTextVNode","props","innerHTML","converter","showdown","setOption","convertContent","makeHtml","emits","emit","__emit","submitMessage","_withDirectives","rows","placeholder","$event","_vModelText","_withModifiers","disabled","process","messages","messagesContainer","components","MyMessage","AssistantMessage","config","map","m","role","Array","isArray","text","reverse","messageSubmit","payload","user_message","temp_message","push","pop","getComponent","ref_key","_Fragment","_renderList","msg","_resolveDynamicComponent","MessageInput","onSubmit","_resolveComponent","default","_withCtx","_","MessageContainer","routes","path","component","HomeView","AudioView","MessagesView","router","createRouter","history","createWebHistory","createStore","state","getters","mutations","actions","modules","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}